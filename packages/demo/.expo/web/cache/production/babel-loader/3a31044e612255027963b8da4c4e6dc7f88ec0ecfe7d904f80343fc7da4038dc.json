{"ast":null,"code":"import{getContext}from'../utils/getContext.web';function sizeFromAngle(width,height,angle){var radians=angle*Math.PI/180;var c=Math.cos(radians);var s=Math.sin(radians);if(s<0){s=-s;}if(c<0){c=-c;}return{width:height*s+width*c,height:height*c+width*s};}export default(function(canvas,degrees){var _sizeFromAngle=sizeFromAngle(canvas.width,canvas.height,degrees),width=_sizeFromAngle.width,height=_sizeFromAngle.height;var result=document.createElement('canvas');result.width=width;result.height=height;var context=getContext(result);context.translate(result.width/2,result.height/2);var radians=degrees*Math.PI/180;context.rotate(radians);context.drawImage(canvas,-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);return result;});","map":{"version":3,"names":["getContext","sizeFromAngle","width","height","angle","radians","Math","PI","c","cos","s","sin","canvas","degrees","_sizeFromAngle","result","document","createElement","context","translate","rotate","drawImage"],"sources":["/Users/josh/src/ui/node_modules/expo-image-manipulator/src/actions/RotateAction.web.ts"],"sourcesContent":["import { ActionRotate } from '../ImageManipulator.types';\nimport { getContext } from '../utils/getContext.web';\n\nfunction sizeFromAngle(\n  width: number,\n  height: number,\n  angle: number\n): { width: number; height: number } {\n  const radians = (angle * Math.PI) / 180;\n  let c = Math.cos(radians);\n  let s = Math.sin(radians);\n  if (s < 0) {\n    s = -s;\n  }\n  if (c < 0) {\n    c = -c;\n  }\n  return { width: height * s + width * c, height: height * c + width * s };\n}\n\nexport default (canvas: HTMLCanvasElement, degrees: ActionRotate['rotate']) => {\n  const { width, height } = sizeFromAngle(canvas.width, canvas.height, degrees);\n\n  const result = document.createElement('canvas');\n  result.width = width;\n  result.height = height;\n\n  const context = getContext(result);\n\n  // Set the origin to the center of the image\n  context.translate(result.width / 2, result.height / 2);\n\n  // Rotate the canvas around the origin\n  const radians = (degrees * Math.PI) / 180;\n  context.rotate(radians);\n\n  // Draw the image\n  context.drawImage(canvas, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n\n  return result;\n};\n"],"mappings":"AACA,OAASA,UAAU,KAAQ,yBAAyB,CAEpD,QAAS,CAAAC,aAAaA,CACpBC,KAAa,CACbC,MAAc,CACdC,KAAa,EAEb,GAAM,CAAAC,OAAO,CAAID,KAAK,CAAGE,IAAI,CAACC,EAAE,CAAI,GAAG,CACvC,GAAI,CAAAC,CAAC,CAAGF,IAAI,CAACG,GAAG,CAACJ,OAAO,CAAC,CACzB,GAAI,CAAAK,CAAC,CAAGJ,IAAI,CAACK,GAAG,CAACN,OAAO,CAAC,CACzB,GAAIK,CAAC,CAAG,CAAC,CAAE,CACTA,CAAC,CAAG,CAACA,CAAC,C,CAER,GAAIF,CAAC,CAAG,CAAC,CAAE,CACTA,CAAC,CAAG,CAACA,CAAC,C,CAER,MAAO,CAAEN,KAAK,CAAEC,MAAM,CAAGO,CAAC,CAAGR,KAAK,CAAGM,CAAC,CAAEL,MAAM,CAAEA,MAAM,CAAGK,CAAC,CAAGN,KAAK,CAAGQ,CAAC,CAAE,CAC1E,CAEA,eAAe,SAACE,MAAyB,CAAEC,OAA+B,CAAI,CAC5E,IAAAC,cAAA,CAA0Bb,aAAa,CAACW,MAAM,CAACV,KAAK,CAAEU,MAAM,CAACT,MAAM,CAAEU,OAAO,CAAC,CAArEX,KAAK,CAAAY,cAAA,CAALZ,KAAK,CAAEC,MAAM,CAAAW,cAAA,CAANX,MAAM,CAErB,GAAM,CAAAY,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACb,KAAK,CAAGA,KAAK,CACpBa,MAAM,CAACZ,MAAM,CAAGA,MAAM,CAEtB,GAAM,CAAAe,OAAO,CAAGlB,UAAU,CAACe,MAAM,CAAC,CAGlCG,OAAO,CAACC,SAAS,CAACJ,MAAM,CAACb,KAAK,CAAG,CAAC,CAAEa,MAAM,CAACZ,MAAM,CAAG,CAAC,CAAC,CAGtD,GAAM,CAAAE,OAAO,CAAIQ,OAAO,CAAGP,IAAI,CAACC,EAAE,CAAI,GAAG,CACzCW,OAAO,CAACE,MAAM,CAACf,OAAO,CAAC,CAGvBa,OAAO,CAACG,SAAS,CAACT,MAAM,CAAE,CAACA,MAAM,CAACV,KAAK,CAAG,CAAC,CAAE,CAACU,MAAM,CAACT,MAAM,CAAG,CAAC,CAAES,MAAM,CAACV,KAAK,CAAEU,MAAM,CAACT,MAAM,CAAC,CAE7F,MAAO,CAAAY,MAAM,CACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
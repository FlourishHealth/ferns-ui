{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _this=this;var _excluded=[\"context\",\"markedDates\"],_excluded2=[\"context\",\"markedDates\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import XDate from'xdate';import React,{useRef,useMemo,useCallback}from'react';import View from\"react-native-web/dist/exports/View\";import isEqual from'lodash/isEqual';import{getPartialWeekDates,getWeekDates,sameMonth}from'../dateutils';import{parseDate,toMarkingFormat}from'../interface';import{getState}from'../day-state-manager';import{extractDayProps}from'../componentUpdater';import styleConstructor from'./style';import Day from'../calendar/day/index';import{jsx as _jsx}from\"react/jsx-runtime\";function arePropsEqual(prevProps,nextProps){var prevContext=prevProps.context,prevMarkings=prevProps.markedDates,prevOthers=_objectWithoutProperties(prevProps,_excluded);var nextContext=nextProps.context,nextMarkings=nextProps.markedDates,nextOthers=_objectWithoutProperties(nextProps,_excluded2);return isEqual(prevContext,nextContext)&&isEqual(prevMarkings,nextMarkings)&&isEqual(prevOthers,nextOthers);}var Week=React.memo(function(props){var theme=props.theme,current=props.current,firstDay=props.firstDay,hideExtraDays=props.hideExtraDays,markedDates=props.markedDates,onDayPress=props.onDayPress,onDayLongPress=props.onDayLongPress,propsStyle=props.style,_props$numberOfDays=props.numberOfDays,numberOfDays=_props$numberOfDays===void 0?1:_props$numberOfDays,timelineLeftInset=props.timelineLeftInset,testID=props.testID;var style=useRef(styleConstructor(theme));var disableDaySelection=useMemo(function(){return!!numberOfDays&&numberOfDays>1;},[numberOfDays]);var getWeek=useCallback(function(date){if(date){return getWeekDates(date,firstDay);}},[firstDay]);var partialWeekStyle=useMemo(function(){return[style.current.partialWeek,{paddingLeft:timelineLeftInset}];},[timelineLeftInset]);var dayProps=extractDayProps(props);var currXdate=useMemo(function(){return parseDate(current);},[current]);var renderDay=function renderDay(day,id){if(current&&hideExtraDays){if(!sameMonth(day,currXdate)){return _jsx(View,{style:style.current.emptyDayContainer},id);}}var dayString=toMarkingFormat(day);return _jsx(View,{style:style.current.dayContainer,children:_jsx(Day,_objectSpread(_objectSpread({},dayProps),{},{testID:`${testID}.day_${dayString}`,date:dayString,state:getState(day,currXdate,props,disableDaySelection),marking:disableDaySelection?_objectSpread(_objectSpread({},markedDates==null?void 0:markedDates[dayString]),{},{disableTouchEvent:true}):markedDates==null?void 0:markedDates[dayString],onPress:onDayPress,onLongPress:onDayLongPress}))},id);};var renderWeek=function renderWeek(){var dates=numberOfDays>1?getPartialWeekDates(current,numberOfDays):getWeek(current);var week=[];if(dates){var todayIndex=(dates==null?void 0:dates.indexOf(parseDate(new Date())))||-1;var sliced=dates.slice(todayIndex,numberOfDays);var datesToRender=numberOfDays>1&&todayIndex>-1?sliced:dates;datesToRender.forEach(function(day,id){var d=day instanceof XDate?day:new XDate(day);week.push(renderDay(d,id));},_this);}return week;};return _jsx(View,{style:style.current.container,testID:`${testID}.week_${current}`,children:_jsx(View,{style:[style.current.week,numberOfDays>1?partialWeekStyle:undefined,propsStyle],children:renderWeek()})});},arePropsEqual);export default Week;Week.displayName='Week';","map":{"version":3,"names":["XDate","React","useRef","useMemo","useCallback","View","isEqual","getPartialWeekDates","getWeekDates","sameMonth","parseDate","toMarkingFormat","getState","extractDayProps","styleConstructor","Day","jsx","_jsx","arePropsEqual","prevProps","nextProps","prevContext","context","prevMarkings","markedDates","prevOthers","_objectWithoutProperties","_excluded","nextContext","nextMarkings","nextOthers","_excluded2","Week","memo","props","theme","current","firstDay","hideExtraDays","onDayPress","onDayLongPress","propsStyle","style","_props$numberOfDays","numberOfDays","timelineLeftInset","testID","disableDaySelection","getWeek","date","partialWeekStyle","partialWeek","paddingLeft","dayProps","currXdate","renderDay","day","id","emptyDayContainer","dayString","dayContainer","children","_objectSpread","state","marking","disableTouchEvent","onPress","onLongPress","renderWeek","dates","week","todayIndex","indexOf","Date","sliced","slice","datesToRender","forEach","d","push","_this","container","undefined","displayName"],"sources":["/Users/josh/src/ui/node_modules/react-native-calendars/src/expandableCalendar/week.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { useRef, useMemo, useCallback } from 'react';\nimport { View } from 'react-native';\nimport isEqual from 'lodash/isEqual';\nimport { getPartialWeekDates, getWeekDates, sameMonth } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport { getState } from '../day-state-manager';\nimport { extractDayProps } from '../componentUpdater';\nimport styleConstructor from './style';\nimport Day from '../calendar/day/index';\nfunction arePropsEqual(prevProps, nextProps) {\n    const { context: prevContext, markedDates: prevMarkings, ...prevOthers } = prevProps;\n    const { context: nextContext, markedDates: nextMarkings, ...nextOthers } = nextProps;\n    return isEqual(prevContext, nextContext) && isEqual(prevMarkings, nextMarkings) && isEqual(prevOthers, nextOthers);\n}\nconst Week = React.memo((props) => {\n    const { theme, current, firstDay, hideExtraDays, markedDates, onDayPress, onDayLongPress, style: propsStyle, numberOfDays = 1, timelineLeftInset, testID, } = props;\n    const style = useRef(styleConstructor(theme));\n    const disableDaySelection = useMemo(() => {\n        return !!numberOfDays && numberOfDays > 1;\n    }, [numberOfDays]);\n    const getWeek = useCallback((date) => {\n        if (date) {\n            return getWeekDates(date, firstDay);\n        }\n    }, [firstDay]);\n    const partialWeekStyle = useMemo(() => {\n        return [style.current.partialWeek, { paddingLeft: timelineLeftInset }];\n    }, [timelineLeftInset]);\n    const dayProps = extractDayProps(props);\n    const currXdate = useMemo(() => parseDate(current), [current]);\n    const renderDay = (day, id) => {\n        // hide extra days\n        if (current && hideExtraDays) {\n            if (!sameMonth(day, currXdate)) {\n                return <View key={id} style={style.current.emptyDayContainer}/>;\n            }\n        }\n        const dayString = toMarkingFormat(day);\n        return (<View style={style.current.dayContainer} key={id}>\n        <Day {...dayProps} testID={`${testID}.day_${dayString}`} date={dayString} state={getState(day, currXdate, props, disableDaySelection)} marking={disableDaySelection ? { ...markedDates?.[dayString], disableTouchEvent: true } : markedDates?.[dayString]} onPress={onDayPress} onLongPress={onDayLongPress}/>\n      </View>);\n    };\n    const renderWeek = () => {\n        const dates = numberOfDays > 1 ? getPartialWeekDates(current, numberOfDays) : getWeek(current);\n        const week = [];\n        if (dates) {\n            const todayIndex = dates?.indexOf(parseDate(new Date())) || -1;\n            const sliced = dates.slice(todayIndex, numberOfDays);\n            const datesToRender = numberOfDays > 1 && todayIndex > -1 ? sliced : dates;\n            datesToRender.forEach((day, id) => {\n                const d = day instanceof XDate ? day : new XDate(day);\n                week.push(renderDay(d, id));\n            }, this);\n        }\n        return week;\n    };\n    return (<View style={style.current.container} testID={`${testID}.week_${current}`}>\n      <View style={[style.current.week, numberOfDays > 1 ? partialWeekStyle : undefined, propsStyle]}>\n        {renderWeek()}\n      </View>\n    </View>);\n}, arePropsEqual);\nexport default Week;\nWeek.displayName = 'Week';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
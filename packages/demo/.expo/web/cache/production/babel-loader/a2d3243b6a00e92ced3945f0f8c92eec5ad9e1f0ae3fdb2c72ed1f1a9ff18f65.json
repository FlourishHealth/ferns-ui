{"ast":null,"code":"import*as React from'react';import View from\"react-native-web/dist/exports/View\";var CSSTransitions={WebkitTransition:'webkitTransitionEnd',Transition:'transitionEnd',MozTransition:'transitionend',MSTransition:'msTransitionEnd',OTransition:'oTransitionEnd'};export function NativeSafeAreaProvider(_ref){var children=_ref.children,style=_ref.style,onInsetsChange=_ref.onInsetsChange;React.useEffect(function(){if(typeof document==='undefined'){return;}var element=createContextElement();document.body.appendChild(element);var onEnd=function onEnd(){var _window$getComputedSt=window.getComputedStyle(element),paddingTop=_window$getComputedSt.paddingTop,paddingBottom=_window$getComputedSt.paddingBottom,paddingLeft=_window$getComputedSt.paddingLeft,paddingRight=_window$getComputedSt.paddingRight;var insets={top:paddingTop?parseInt(paddingTop,10):0,bottom:paddingBottom?parseInt(paddingBottom,10):0,left:paddingLeft?parseInt(paddingLeft,10):0,right:paddingRight?parseInt(paddingRight,10):0};var frame={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};onInsetsChange({nativeEvent:{insets:insets,frame:frame}});};element.addEventListener(getSupportedTransitionEvent(),onEnd);onEnd();return function(){document.body.removeChild(element);element.removeEventListener(getSupportedTransitionEvent(),onEnd);};},[onInsetsChange]);return React.createElement(View,{style:style},children);}var _supportedTransitionEvent=null;function getSupportedTransitionEvent(){if(_supportedTransitionEvent!=null){return _supportedTransitionEvent;}var element=document.createElement('invalidtype');_supportedTransitionEvent=CSSTransitions.Transition;for(var key in CSSTransitions){if(element.style[key]!==undefined){_supportedTransitionEvent=CSSTransitions[key];break;}}return _supportedTransitionEvent;}var _supportedEnv=null;function getSupportedEnv(){if(_supportedEnv!==null){return _supportedEnv;}var _window=window,CSS=_window.CSS;if(CSS&&CSS.supports&&CSS.supports('top: constant(safe-area-inset-top)')){_supportedEnv='constant';}else{_supportedEnv='env';}return _supportedEnv;}function getInset(side){return`${getSupportedEnv()}(safe-area-inset-${side})`;}function createContextElement(){var element=document.createElement('div');var style=element.style;style.position='fixed';style.left='0';style.top='0';style.width='0';style.height='0';style.zIndex='-1';style.overflow='hidden';style.visibility='hidden';style.transitionDuration='0.05s';style.transitionProperty='padding';style.transitionDelay='0s';style.paddingTop=getInset('top');style.paddingBottom=getInset('bottom');style.paddingLeft=getInset('left');style.paddingRight=getInset('right');return element;}","map":{"version":3,"names":["React","View","CSSTransitions","WebkitTransition","Transition","MozTransition","MSTransition","OTransition","NativeSafeAreaProvider","_ref","children","style","onInsetsChange","useEffect","document","element","createContextElement","body","appendChild","onEnd","_window$getComputedSt","window","getComputedStyle","paddingTop","paddingBottom","paddingLeft","paddingRight","insets","top","parseInt","bottom","left","right","frame","x","y","width","documentElement","offsetWidth","height","offsetHeight","nativeEvent","addEventListener","getSupportedTransitionEvent","removeChild","removeEventListener","createElement","_supportedTransitionEvent","key","undefined","_supportedEnv","getSupportedEnv","_window","CSS","supports","getInset","side","position","zIndex","overflow","visibility","transitionDuration","transitionProperty","transitionDelay"],"sources":["/Users/josh/src/ui/node_modules/react-native-safe-area-context/src/NativeSafeAreaProvider.web.tsx"],"sourcesContent":["/* eslint-env browser */\n\nimport * as React from 'react';\nimport { View } from 'react-native';\nimport type { NativeSafeAreaProviderProps } from './SafeArea.types';\n\n/**\n * TODO:\n * Currently insets and frame are based on the window and are not\n * relative to the provider view. This is inconsistent with iOS and Android.\n * However in most cases if the provider view covers the screen this is not\n * an issue.\n */\n\nconst CSSTransitions: Record<string, string> = {\n  WebkitTransition: 'webkitTransitionEnd',\n  Transition: 'transitionEnd',\n  MozTransition: 'transitionend',\n  MSTransition: 'msTransitionEnd',\n  OTransition: 'oTransitionEnd',\n};\n\nexport function NativeSafeAreaProvider({\n  children,\n  style,\n  onInsetsChange,\n}: NativeSafeAreaProviderProps) {\n  React.useEffect(() => {\n    // Skip for SSR.\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    const element = createContextElement();\n    document.body.appendChild(element);\n    const onEnd = () => {\n      const { paddingTop, paddingBottom, paddingLeft, paddingRight } =\n        window.getComputedStyle(element);\n\n      const insets = {\n        top: paddingTop ? parseInt(paddingTop, 10) : 0,\n        bottom: paddingBottom ? parseInt(paddingBottom, 10) : 0,\n        left: paddingLeft ? parseInt(paddingLeft, 10) : 0,\n        right: paddingRight ? parseInt(paddingRight, 10) : 0,\n      };\n      const frame = {\n        x: 0,\n        y: 0,\n        width: document.documentElement.offsetWidth,\n        height: document.documentElement.offsetHeight,\n      };\n      // @ts-ignore: missing properties\n      onInsetsChange({ nativeEvent: { insets, frame } });\n    };\n    element.addEventListener(getSupportedTransitionEvent(), onEnd);\n    onEnd();\n    return () => {\n      document.body.removeChild(element);\n      element.removeEventListener(getSupportedTransitionEvent(), onEnd);\n    };\n  }, [onInsetsChange]);\n\n  return <View style={style}>{children}</View>;\n}\n\nlet _supportedTransitionEvent: string | null | undefined = null;\nfunction getSupportedTransitionEvent(): string {\n  if (_supportedTransitionEvent != null) {\n    return _supportedTransitionEvent;\n  }\n  const element = document.createElement('invalidtype');\n\n  _supportedTransitionEvent = CSSTransitions.Transition;\n  for (const key in CSSTransitions) {\n    if (element.style[key as keyof CSSStyleDeclaration] !== undefined) {\n      _supportedTransitionEvent = CSSTransitions[key];\n      break;\n    }\n  }\n  return _supportedTransitionEvent as string;\n}\n\ntype CssEnv = 'constant' | 'env';\n\nlet _supportedEnv: CssEnv | null = null;\nfunction getSupportedEnv(): CssEnv {\n  if (_supportedEnv !== null) {\n    return _supportedEnv;\n  }\n  const { CSS } = window;\n  if (\n    CSS &&\n    CSS.supports &&\n    CSS.supports('top: constant(safe-area-inset-top)')\n  ) {\n    _supportedEnv = 'constant';\n  } else {\n    _supportedEnv = 'env';\n  }\n  return _supportedEnv;\n}\n\nfunction getInset(side: string): string {\n  return `${getSupportedEnv()}(safe-area-inset-${side})`;\n}\n\nfunction createContextElement(): HTMLElement {\n  const element = document.createElement('div');\n  const { style } = element;\n  style.position = 'fixed';\n  style.left = '0';\n  style.top = '0';\n  style.width = '0';\n  style.height = '0';\n  style.zIndex = '-1';\n  style.overflow = 'hidden';\n  style.visibility = 'hidden';\n  // Bacon: Anything faster than this and the callback will be invoked too early with the wrong insets\n  style.transitionDuration = '0.05s';\n  style.transitionProperty = 'padding';\n  style.transitionDelay = '0s';\n  style.paddingTop = getInset('top');\n  style.paddingBottom = getInset('bottom');\n  style.paddingLeft = getInset('left');\n  style.paddingRight = getInset('right');\n  return element;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
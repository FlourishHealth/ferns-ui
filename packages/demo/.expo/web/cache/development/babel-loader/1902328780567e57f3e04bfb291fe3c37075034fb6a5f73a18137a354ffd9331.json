{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/josh/src/ui/node_modules/react-native-calendars/src/agenda/reservation-list/index.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport isFunction from 'lodash/isFunction';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { Component } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { extractReservationProps } from '../../componentUpdater';\nimport { sameDate } from '../../dateutils';\nimport { toMarkingFormat } from '../../interface';\nimport styleConstructor from './style';\nimport Reservation from './reservation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ReservationList = function (_Component) {\n  _inherits(ReservationList, _Component);\n  var _super = _createSuper(ReservationList);\n  function ReservationList(props) {\n    var _this;\n    _classCallCheck(this, ReservationList);\n    _this = _super.call(this, props);\n    _this.list = React.createRef();\n    _this.onScroll = function (event) {\n      var yOffset = event.nativeEvent.contentOffset.y;\n      _this.props.onScroll == null ? void 0 : _this.props.onScroll(yOffset);\n      var topRowOffset = 0;\n      var topRow;\n      for (topRow = 0; topRow < _this.heights.length; topRow++) {\n        if (topRowOffset + _this.heights[topRow] / 2 >= yOffset) {\n          break;\n        }\n        topRowOffset += _this.heights[topRow];\n      }\n      var row = _this.state.reservations[topRow];\n      if (!row) return;\n      var day = row.date;\n      if (day) {\n        if (!sameDate(day, _this.selectedDay) && _this.scrollOver) {\n          _this.selectedDay = day.clone();\n          _this.props.onDayChange == null ? void 0 : _this.props.onDayChange(day.clone());\n        }\n      }\n    };\n    _this.onMoveShouldSetResponderCapture = function () {\n      _this.onListTouch();\n      return false;\n    };\n    _this.renderRow = function (_ref) {\n      var item = _ref.item,\n        index = _ref.index;\n      var reservationProps = extractReservationProps(_this.props);\n      return _jsxDEV(View, {\n        onLayout: _this.onRowLayoutChange.bind(_assertThisInitialized(_this), index),\n        children: _jsxDEV(Reservation, _objectSpread(_objectSpread({}, reservationProps), {}, {\n          item: item.reservation,\n          date: item.date\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }, _assertThisInitialized(_this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, _assertThisInitialized(_this));\n    };\n    _this.keyExtractor = function (item, index) {\n      var _item$reservation;\n      return (_this.props.reservationsKeyExtractor == null ? void 0 : _this.props.reservationsKeyExtractor(item, index)) || `${item == null ? void 0 : (_item$reservation = item.reservation) == null ? void 0 : _item$reservation.day}${index}`;\n    };\n    _this.style = styleConstructor(props.theme);\n    _this.state = {\n      reservations: []\n    };\n    _this.heights = [];\n    _this.selectedDay = props.selectedDay;\n    _this.scrollOver = true;\n    return _this;\n  }\n  _createClass(ReservationList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateDataSource(this.getReservations(this.props).reservations);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n      if (this.props.topDay && prevProps.topDay && prevProps !== this.props) {\n        if (!sameDate(prevProps.topDay, this.props.topDay)) {\n          this.setState({\n            reservations: []\n          }, function () {\n            return _this2.updateReservations(_this2.props);\n          });\n        } else {\n          this.updateReservations(this.props);\n        }\n      }\n    }\n  }, {\n    key: \"updateDataSource\",\n    value: function updateDataSource(reservations) {\n      this.setState({\n        reservations: reservations\n      });\n    }\n  }, {\n    key: \"updateReservations\",\n    value: function updateReservations(props) {\n      var selectedDay = props.selectedDay,\n        showOnlySelectedDayItems = props.showOnlySelectedDayItems;\n      var reservations = this.getReservations(props);\n      if (!showOnlySelectedDayItems && this.list && !sameDate(selectedDay, this.selectedDay)) {\n        var _this$list, _this$list$current;\n        var scrollPosition = 0;\n        for (var i = 0; i < reservations.scrollPosition; i++) {\n          scrollPosition += this.heights[i] || 0;\n        }\n        this.scrollOver = false;\n        (_this$list = this.list) == null ? void 0 : (_this$list$current = _this$list.current) == null ? void 0 : _this$list$current.scrollToOffset({\n          offset: scrollPosition,\n          animated: true\n        });\n      }\n      this.selectedDay = selectedDay;\n      this.updateDataSource(reservations.reservations);\n    }\n  }, {\n    key: \"getReservationsForDay\",\n    value: function getReservationsForDay(iterator, props) {\n      var _props$items;\n      var day = iterator.clone();\n      var res = (_props$items = props.items) == null ? void 0 : _props$items[toMarkingFormat(day)];\n      if (res && res.length) {\n        return res.map(function (reservation, i) {\n          return {\n            reservation: reservation,\n            date: i ? undefined : day\n          };\n        });\n      } else if (res) {\n        return [{\n          date: iterator.clone()\n        }];\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getReservations\",\n    value: function getReservations(props) {\n      var selectedDay = props.selectedDay,\n        showOnlySelectedDayItems = props.showOnlySelectedDayItems;\n      if (!props.items || !selectedDay) {\n        return {\n          reservations: [],\n          scrollPosition: 0\n        };\n      }\n      var reservations = [];\n      if (this.state.reservations && this.state.reservations.length) {\n        var _this$state$reservati;\n        var _iterator = (_this$state$reservati = this.state.reservations[0].date) == null ? void 0 : _this$state$reservati.clone();\n        if (_iterator) {\n          while (_iterator.getTime() < selectedDay.getTime()) {\n            var res = this.getReservationsForDay(_iterator, props);\n            if (!res) {\n              reservations = [];\n              break;\n            } else {\n              reservations = reservations.concat(res);\n            }\n            _iterator.addDays(1);\n          }\n        }\n      }\n      var scrollPosition = reservations.length;\n      var iterator = selectedDay.clone();\n      if (showOnlySelectedDayItems) {\n        var _res = this.getReservationsForDay(iterator, props);\n        if (_res) {\n          reservations = _res;\n        }\n        iterator.addDays(1);\n      } else {\n        for (var i = 0; i < 31; i++) {\n          var _res2 = this.getReservationsForDay(iterator, props);\n          if (_res2) {\n            reservations = reservations.concat(_res2);\n          }\n          iterator.addDays(1);\n        }\n      }\n      return {\n        reservations: reservations,\n        scrollPosition: scrollPosition\n      };\n    }\n  }, {\n    key: \"onListTouch\",\n    value: function onListTouch() {\n      this.scrollOver = true;\n    }\n  }, {\n    key: \"onRowLayoutChange\",\n    value: function onRowLayoutChange(index, event) {\n      this.heights[index] = event.nativeEvent.layout.height;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        items = _this$props.items,\n        selectedDay = _this$props.selectedDay,\n        theme = _this$props.theme,\n        style = _this$props.style;\n      if (!items || selectedDay && !items[toMarkingFormat(selectedDay)]) {\n        if (isFunction(this.props.renderEmptyData)) {\n          var _this$props$renderEmp, _this$props2;\n          return (_this$props$renderEmp = (_this$props2 = this.props).renderEmptyData) == null ? void 0 : _this$props$renderEmp.call(_this$props2);\n        }\n        return _jsxDEV(ActivityIndicator, {\n          style: this.style.indicator,\n          color: theme == null ? void 0 : theme.indicatorColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 20\n        }, this);\n      }\n      return _jsxDEV(FlatList, {\n        ref: this.list,\n        style: style,\n        contentContainerStyle: this.style.content,\n        data: this.state.reservations,\n        renderItem: this.renderRow,\n        keyExtractor: this.keyExtractor,\n        showsVerticalScrollIndicator: false,\n        scrollEventThrottle: 200,\n        onMoveShouldSetResponderCapture: this.onMoveShouldSetResponderCapture,\n        onScroll: this.onScroll,\n        refreshControl: this.props.refreshControl,\n        refreshing: this.props.refreshing,\n        onRefresh: this.props.onRefresh,\n        onScrollBeginDrag: this.props.onScrollBeginDrag,\n        onScrollEndDrag: this.props.onScrollEndDrag,\n        onMomentumScrollBegin: this.props.onMomentumScrollBegin,\n        onMomentumScrollEnd: this.props.onMomentumScrollEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this);\n    }\n  }]);\n  return ReservationList;\n}(Component);\nReservationList.displayName = 'ReservationList';\nReservationList.propTypes = _objectSpread(_objectSpread({}, Reservation.propTypes), {}, {\n  items: PropTypes.object,\n  selectedDay: PropTypes.instanceOf(XDate),\n  topDay: PropTypes.instanceOf(XDate),\n  onDayChange: PropTypes.func,\n  showOnlySelectedDayItems: PropTypes.bool,\n  renderEmptyData: PropTypes.func,\n  onScroll: PropTypes.func,\n  onScrollBeginDrag: PropTypes.func,\n  onScrollEndDrag: PropTypes.func,\n  onMomentumScrollBegin: PropTypes.func,\n  onMomentumScrollEnd: PropTypes.func,\n  refreshControl: PropTypes.element,\n  refreshing: PropTypes.bool,\n  onRefresh: PropTypes.func,\n  reservationsKeyExtractor: PropTypes.func\n});\nReservationList.defaultProps = {\n  refreshing: false,\n  selectedDay: new XDate(true)\n};\nexport default ReservationList;","map":{"version":3,"names":["isFunction","PropTypes","XDate","React","Component","ActivityIndicator","View","FlatList","extractReservationProps","sameDate","toMarkingFormat","styleConstructor","Reservation","jsxDEV","_jsxDEV","ReservationList","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","list","createRef","onScroll","event","yOffset","nativeEvent","contentOffset","y","topRowOffset","topRow","heights","length","row","state","reservations","day","date","selectedDay","scrollOver","clone","onDayChange","onMoveShouldSetResponderCapture","onListTouch","renderRow","_ref","item","index","reservationProps","onLayout","onRowLayoutChange","bind","_assertThisInitialized","children","_objectSpread","reservation","fileName","_jsxFileName","lineNumber","columnNumber","keyExtractor","_item$reservation","reservationsKeyExtractor","style","theme","_createClass","key","value","componentDidMount","updateDataSource","getReservations","componentDidUpdate","prevProps","_this2","topDay","setState","updateReservations","showOnlySelectedDayItems","_this$list","_this$list$current","scrollPosition","i","current","scrollToOffset","offset","animated","getReservationsForDay","iterator","_props$items","res","items","map","undefined","_this$state$reservati","getTime","concat","addDays","layout","height","render","_this$props","renderEmptyData","_this$props$renderEmp","_this$props2","indicator","color","indicatorColor","ref","contentContainerStyle","content","data","renderItem","showsVerticalScrollIndicator","scrollEventThrottle","refreshControl","refreshing","onRefresh","onScrollBeginDrag","onScrollEndDrag","onMomentumScrollBegin","onMomentumScrollEnd","displayName","propTypes","object","instanceOf","func","bool","element","defaultProps"],"sources":["/Users/josh/src/ui/node_modules/react-native-calendars/src/agenda/reservation-list/index.js"],"sourcesContent":["import isFunction from 'lodash/isFunction';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { Component } from 'react';\nimport { ActivityIndicator, View, FlatList } from 'react-native';\nimport { extractReservationProps } from '../../componentUpdater';\nimport { sameDate } from '../../dateutils';\nimport { toMarkingFormat } from '../../interface';\nimport styleConstructor from './style';\nimport Reservation from './reservation';\nclass ReservationList extends Component {\n    static displayName = 'ReservationList';\n    static propTypes = {\n        ...Reservation.propTypes,\n        items: PropTypes.object,\n        selectedDay: PropTypes.instanceOf(XDate),\n        topDay: PropTypes.instanceOf(XDate),\n        onDayChange: PropTypes.func,\n        showOnlySelectedDayItems: PropTypes.bool,\n        renderEmptyData: PropTypes.func,\n        onScroll: PropTypes.func,\n        onScrollBeginDrag: PropTypes.func,\n        onScrollEndDrag: PropTypes.func,\n        onMomentumScrollBegin: PropTypes.func,\n        onMomentumScrollEnd: PropTypes.func,\n        refreshControl: PropTypes.element,\n        refreshing: PropTypes.bool,\n        onRefresh: PropTypes.func,\n        reservationsKeyExtractor: PropTypes.func\n    };\n    static defaultProps = {\n        refreshing: false,\n        selectedDay: new XDate(true)\n    };\n    style;\n    heights;\n    selectedDay;\n    scrollOver;\n    list = React.createRef();\n    constructor(props) {\n        super(props);\n        this.style = styleConstructor(props.theme);\n        this.state = {\n            reservations: []\n        };\n        this.heights = [];\n        this.selectedDay = props.selectedDay;\n        this.scrollOver = true;\n    }\n    componentDidMount() {\n        this.updateDataSource(this.getReservations(this.props).reservations);\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.topDay && prevProps.topDay && prevProps !== this.props) {\n            if (!sameDate(prevProps.topDay, this.props.topDay)) {\n                this.setState({ reservations: [] }, () => this.updateReservations(this.props));\n            }\n            else {\n                this.updateReservations(this.props);\n            }\n        }\n    }\n    updateDataSource(reservations) {\n        this.setState({ reservations });\n    }\n    updateReservations(props) {\n        const { selectedDay, showOnlySelectedDayItems } = props;\n        const reservations = this.getReservations(props);\n        if (!showOnlySelectedDayItems && this.list && !sameDate(selectedDay, this.selectedDay)) {\n            let scrollPosition = 0;\n            for (let i = 0; i < reservations.scrollPosition; i++) {\n                scrollPosition += this.heights[i] || 0;\n            }\n            this.scrollOver = false;\n            this.list?.current?.scrollToOffset({ offset: scrollPosition, animated: true });\n        }\n        this.selectedDay = selectedDay;\n        this.updateDataSource(reservations.reservations);\n    }\n    getReservationsForDay(iterator, props) {\n        const day = iterator.clone();\n        const res = props.items?.[toMarkingFormat(day)];\n        if (res && res.length) {\n            return res.map((reservation, i) => {\n                return {\n                    reservation,\n                    date: i ? undefined : day\n                };\n            });\n        }\n        else if (res) {\n            return [\n                {\n                    date: iterator.clone()\n                }\n            ];\n        }\n        else {\n            return false;\n        }\n    }\n    getReservations(props) {\n        const { selectedDay, showOnlySelectedDayItems } = props;\n        if (!props.items || !selectedDay) {\n            return { reservations: [], scrollPosition: 0 };\n        }\n        let reservations = [];\n        if (this.state.reservations && this.state.reservations.length) {\n            const iterator = this.state.reservations[0].date?.clone();\n            if (iterator) {\n                while (iterator.getTime() < selectedDay.getTime()) {\n                    const res = this.getReservationsForDay(iterator, props);\n                    if (!res) {\n                        reservations = [];\n                        break;\n                    }\n                    else {\n                        reservations = reservations.concat(res);\n                    }\n                    iterator.addDays(1);\n                }\n            }\n        }\n        const scrollPosition = reservations.length;\n        const iterator = selectedDay.clone();\n        if (showOnlySelectedDayItems) {\n            const res = this.getReservationsForDay(iterator, props);\n            if (res) {\n                reservations = res;\n            }\n            iterator.addDays(1);\n        }\n        else {\n            for (let i = 0; i < 31; i++) {\n                const res = this.getReservationsForDay(iterator, props);\n                if (res) {\n                    reservations = reservations.concat(res);\n                }\n                iterator.addDays(1);\n            }\n        }\n        return { reservations, scrollPosition };\n    }\n    onScroll = (event) => {\n        const yOffset = event.nativeEvent.contentOffset.y;\n        this.props.onScroll?.(yOffset);\n        let topRowOffset = 0;\n        let topRow;\n        for (topRow = 0; topRow < this.heights.length; topRow++) {\n            if (topRowOffset + this.heights[topRow] / 2 >= yOffset) {\n                break;\n            }\n            topRowOffset += this.heights[topRow];\n        }\n        const row = this.state.reservations[topRow];\n        if (!row)\n            return;\n        const day = row.date;\n        if (day) {\n            if (!sameDate(day, this.selectedDay) && this.scrollOver) {\n                this.selectedDay = day.clone();\n                this.props.onDayChange?.(day.clone());\n            }\n        }\n    };\n    onListTouch() {\n        this.scrollOver = true;\n    }\n    onRowLayoutChange(index, event) {\n        this.heights[index] = event.nativeEvent.layout.height;\n    }\n    onMoveShouldSetResponderCapture = () => {\n        this.onListTouch();\n        return false;\n    };\n    renderRow = ({ item, index }) => {\n        const reservationProps = extractReservationProps(this.props);\n        return (<View onLayout={this.onRowLayoutChange.bind(this, index)}>\n        <Reservation {...reservationProps} item={item.reservation} date={item.date}/>\n      </View>);\n    };\n    keyExtractor = (item, index) => {\n        return this.props.reservationsKeyExtractor?.(item, index) || `${item?.reservation?.day}${index}`;\n    };\n    render() {\n        const { items, selectedDay, theme, style } = this.props;\n        if (!items || selectedDay && !items[toMarkingFormat(selectedDay)]) {\n            if (isFunction(this.props.renderEmptyData)) {\n                return this.props.renderEmptyData?.();\n            }\n            return <ActivityIndicator style={this.style.indicator} color={theme?.indicatorColor}/>;\n        }\n        return (<FlatList ref={this.list} style={style} contentContainerStyle={this.style.content} data={this.state.reservations} renderItem={this.renderRow} keyExtractor={this.keyExtractor} showsVerticalScrollIndicator={false} scrollEventThrottle={200} onMoveShouldSetResponderCapture={this.onMoveShouldSetResponderCapture} onScroll={this.onScroll} refreshControl={this.props.refreshControl} refreshing={this.props.refreshing} onRefresh={this.props.onRefresh} onScrollBeginDrag={this.props.onScrollBeginDrag} onScrollEndDrag={this.props.onScrollEndDrag} onMomentumScrollBegin={this.props.onMomentumScrollBegin} onMomentumScrollEnd={this.props.onMomentumScrollEnd}/>);\n    }\n}\nexport default ReservationList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
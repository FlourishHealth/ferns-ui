{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar emptyCoordinates = Object.freeze({\n  screenX: 0,\n  screenY: 0,\n  width: 0,\n  height: 0\n});\nvar initialValue = {\n  start: emptyCoordinates,\n  end: emptyCoordinates\n};\nexport function useKeyboard(enabled, isModal, onKeyboardShow, onKeyboardHide) {\n  var _a = useState(false),\n    shown = _a[0],\n    setShown = _a[1];\n  var _b = useState(initialValue),\n    coordinates = _b[0],\n    setCoordinates = _b[1];\n  var _c = useState(0),\n    keyboardHeight = _c[0],\n    setKeyboardHeight = _c[1];\n  var withTimeout = React.useCallback(function (callback, timeout) {\n    if (timeout === void 0) {\n      timeout = 1;\n    }\n    if (isModal || Platform.OS === 'ios') return callback();\n    setTimeout(callback, timeout);\n  }, [isModal]);\n  var handleKeyboardWillShow = function handleKeyboardWillShow(e) {\n    setCoordinates({\n      start: e.startCoordinates,\n      end: e.endCoordinates\n    });\n  };\n  var handleKeyboardDidShow = React.useCallback(function (e) {\n    onKeyboardShow === null || onKeyboardShow === void 0 ? void 0 : onKeyboardShow(e.endCoordinates.height);\n    withTimeout(function () {\n      setShown(true);\n      setCoordinates({\n        start: e.startCoordinates,\n        end: e.endCoordinates\n      });\n      setKeyboardHeight(e.endCoordinates.height);\n    });\n  }, [onKeyboardShow, withTimeout]);\n  var handleKeyboardWillHide = function handleKeyboardWillHide(e) {\n    setCoordinates({\n      start: e.startCoordinates,\n      end: e.endCoordinates\n    });\n  };\n  var handleKeyboardDidHide = React.useCallback(function (e) {\n    onKeyboardHide === null || onKeyboardHide === void 0 ? void 0 : onKeyboardHide();\n    withTimeout(function () {\n      setShown(false);\n      if (e) {\n        setCoordinates({\n          start: e.startCoordinates,\n          end: e.endCoordinates\n        });\n      } else {\n        setCoordinates(initialValue);\n        setKeyboardHeight(0);\n      }\n    }, 1);\n  }, [onKeyboardHide, withTimeout]);\n  useEffect(function () {\n    var subscriptions = [];\n    if (enabled) {\n      subscriptions = [Keyboard.addListener('keyboardWillShow', handleKeyboardWillShow), Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow), Keyboard.addListener('keyboardWillHide', handleKeyboardWillHide), Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide)];\n    }\n    return function () {\n      subscriptions.forEach(function (subscription) {\n        return subscription.remove();\n      });\n    };\n  }, [enabled, handleKeyboardDidHide, handleKeyboardDidShow]);\n  return {\n    keyboardShown: !enabled ? false : shown,\n    coordinates: !enabled || !shown ? emptyCoordinates : coordinates,\n    keyboardHeight: !enabled || !shown ? 0 : keyboardHeight\n  };\n}","map":{"version":3,"names":["React","useEffect","useState","Keyboard","Platform","emptyCoordinates","Object","freeze","screenX","screenY","width","height","initialValue","start","end","useKeyboard","enabled","isModal","onKeyboardShow","onKeyboardHide","_a","shown","setShown","_b","coordinates","setCoordinates","_c","keyboardHeight","setKeyboardHeight","withTimeout","useCallback","callback","timeout","OS","setTimeout","handleKeyboardWillShow","e","startCoordinates","endCoordinates","handleKeyboardDidShow","handleKeyboardWillHide","handleKeyboardDidHide","subscriptions","addListener","forEach","subscription","remove","keyboardShown"],"sources":["/Users/josh/src/ui/node_modules/react-native-actions-sheet/dist/src/hooks/useKeyboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Keyboard, Platform, } from 'react-native';\nvar emptyCoordinates = Object.freeze({\n    screenX: 0,\n    screenY: 0,\n    width: 0,\n    height: 0\n});\nvar initialValue = {\n    start: emptyCoordinates,\n    end: emptyCoordinates\n};\nexport function useKeyboard(enabled, isModal, onKeyboardShow, onKeyboardHide) {\n    var _a = useState(false), shown = _a[0], setShown = _a[1];\n    var _b = useState(initialValue), coordinates = _b[0], setCoordinates = _b[1];\n    var _c = useState(0), keyboardHeight = _c[0], setKeyboardHeight = _c[1];\n    var withTimeout = React.useCallback(function (callback, timeout) {\n        if (timeout === void 0) { timeout = 1; }\n        if (isModal || Platform.OS === 'ios')\n            return callback();\n        setTimeout(callback, timeout);\n    }, [isModal]);\n    var handleKeyboardWillShow = function (e) {\n        setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n    };\n    var handleKeyboardDidShow = React.useCallback(function (e) {\n        onKeyboardShow === null || onKeyboardShow === void 0 ? void 0 : onKeyboardShow(e.endCoordinates.height);\n        withTimeout(function () {\n            setShown(true);\n            setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n            setKeyboardHeight(e.endCoordinates.height);\n        });\n    }, [onKeyboardShow, withTimeout]);\n    var handleKeyboardWillHide = function (e) {\n        setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n    };\n    var handleKeyboardDidHide = React.useCallback(function (e) {\n        onKeyboardHide === null || onKeyboardHide === void 0 ? void 0 : onKeyboardHide();\n        withTimeout(function () {\n            setShown(false);\n            if (e) {\n                setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n            }\n            else {\n                setCoordinates(initialValue);\n                setKeyboardHeight(0);\n            }\n        }, 1);\n    }, [onKeyboardHide, withTimeout]);\n    useEffect(function () {\n        var subscriptions = [];\n        if (enabled) {\n            subscriptions = [\n                Keyboard.addListener('keyboardWillShow', handleKeyboardWillShow),\n                Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow),\n                Keyboard.addListener('keyboardWillHide', handleKeyboardWillHide),\n                Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide),\n            ];\n        }\n        return function () {\n            subscriptions.forEach(function (subscription) { return subscription.remove(); });\n        };\n    }, [enabled, handleKeyboardDidHide, handleKeyboardDidShow]);\n    return {\n        keyboardShown: !enabled ? false : shown,\n        coordinates: !enabled || !shown ? emptyCoordinates : coordinates,\n        keyboardHeight: !enabled || !shown ? 0 : keyboardHeight\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"'use strict';\n\nimport { useEffect, useRef } from 'react';\nimport { cancelAnimation } from '../animation';\nimport { makeMutable } from '../core';\nexport function useSharedValue(initialValue) {\n  var oneWayReadsOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var ref = useRef(makeMutable(initialValue, oneWayReadsOnly));\n  if (ref.current === null) {\n    ref.current = makeMutable(initialValue, oneWayReadsOnly);\n  }\n  useEffect(function () {\n    return function () {\n      cancelAnimation(ref.current);\n    };\n  }, []);\n  return ref.current;\n}","map":{"version":3,"sources":["useSharedValue.ts"],"names":["useEffect","useRef","cancelAnimation","makeMutable","useSharedValue","initialValue","oneWayReadsOnly","ref","current"],"mappings":"AAAA,YAAY;;AACZ,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,eAAe,QAAQ,cAAc;AAE9C,SAASC,WAAW,QAAQ,SAAS;AASrC,OAAO,SAASC,cAAcA,CAC5BC,YAAmB,EAEC;EAAA,IADpBC,eAAe,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK;EAEvB,IAAMC,GAAG,GAAGN,MAAM,CAChBE,WAAW,CAACE,YAAY,EAAEC,eAAe,CAAC,CAC3C;EAED,IAAIC,GAAG,CAACC,OAAO,KAAK,IAAI,EAAE;IACxBD,GAAG,CAACC,OAAO,GAAGL,WAAW,CAACE,YAAY,EAAEC,eAAe,CAAC;EAC1D;EAEAN,SAAS,CAAC,YAAM;IACd,OAAO,YAAM;MACXE,eAAe,CAACK,GAAG,CAACC,OAAO,CAAC;IAC9B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOD,GAAG,CAACC,OAAO;AACpB","sourcesContent":["'use strict';\nimport { useEffect, useRef } from 'react';\nimport { cancelAnimation } from '../animation';\nimport type { SharedValue } from '../commonTypes';\nimport { makeMutable } from '../core';\n\n/**\n * Lets you define [shared values](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#shared-value) in your components.\n *\n * @param initialValue - The value you want to be initially stored to a `.value` property.\n * @returns A shared value with a single `.value` property initially set to the `initialValue` - {@link SharedValue}.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/useSharedValue\n */\nexport function useSharedValue<Value>(\n  initialValue: Value,\n  oneWayReadsOnly = false\n): SharedValue<Value> {\n  const ref = useRef<SharedValue<Value>>(\n    makeMutable(initialValue, oneWayReadsOnly)\n  );\n\n  if (ref.current === null) {\n    ref.current = makeMutable(initialValue, oneWayReadsOnly);\n  }\n\n  useEffect(() => {\n    return () => {\n      cancelAnimation(ref.current);\n    };\n  }, []);\n\n  return ref.current;\n}\n"]},"metadata":{},"sourceType":"module"}
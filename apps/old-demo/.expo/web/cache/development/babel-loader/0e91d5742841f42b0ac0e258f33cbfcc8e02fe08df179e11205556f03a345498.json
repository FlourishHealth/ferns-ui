{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _reactJsxDevRuntime = require(\"react/jsx-dev-runtime\");\nvar _jsxFileName = \"/Users/josh/src/ui/apps/old-demo/node_modules/expo-router/build/views/Navigator.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultNavigator = exports.QualifiedSlot = exports.Slot = exports.useSlot = exports.useNavigatorContext = exports.Navigator = exports.NavigatorContext = void 0;\nvar native_1 = require(\"@react-navigation/native\");\nvar React = __importStar(require(\"react\"));\nvar react_native_safe_area_context_1 = require(\"react-native-safe-area-context\");\nvar Screen_1 = require(\"./Screen\");\nvar Route_1 = require(\"../Route\");\nvar withLayoutContext_1 = require(\"../layouts/withLayoutContext\");\nvar useScreens_1 = require(\"../useScreens\");\nexports.NavigatorContext = React.createContext(null);\nif (process.env.NODE_ENV !== 'production') {\n  exports.NavigatorContext.displayName = 'NavigatorContext';\n}\nfunction Navigator(_ref) {\n  var initialRouteName = _ref.initialRouteName,\n    screenOptions = _ref.screenOptions,\n    children = _ref.children,\n    router = _ref.router;\n  var contextKey = (0, Route_1.useContextKey)();\n  var _ref2 = (0, withLayoutContext_1.useFilterScreenChildren)(children, {\n      isCustomNavigator: true,\n      contextKey: contextKey\n    }),\n    screens = _ref2.screens,\n    otherSlot = _ref2.children;\n  var sorted = (0, useScreens_1.useSortedScreens)(screens != null ? screens : []);\n  if (!sorted.length) {\n    console.warn(`Navigator at \"${contextKey}\" has no children.`);\n    return null;\n  }\n  return _reactJsxDevRuntime.jsxDEV(QualifiedNavigator, {\n    initialRouteName: initialRouteName,\n    screenOptions: screenOptions,\n    screens: sorted,\n    contextKey: contextKey,\n    router: router,\n    children: otherSlot\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 13\n  }, this);\n}\nexports.Navigator = Navigator;\nfunction QualifiedNavigator(_ref3) {\n  var initialRouteName = _ref3.initialRouteName,\n    screenOptions = _ref3.screenOptions,\n    children = _ref3.children,\n    screens = _ref3.screens,\n    contextKey = _ref3.contextKey,\n    _ref3$router = _ref3.router,\n    router = _ref3$router === void 0 ? native_1.StackRouter : _ref3$router;\n  var _ref4 = (0, native_1.useNavigationBuilder)(router, {\n      id: contextKey,\n      children: screens,\n      screenOptions: screenOptions,\n      initialRouteName: initialRouteName\n    }),\n    state = _ref4.state,\n    navigation = _ref4.navigation,\n    descriptors = _ref4.descriptors,\n    NavigationContent = _ref4.NavigationContent;\n  return _reactJsxDevRuntime.jsxDEV(exports.NavigatorContext.Provider, {\n    value: {\n      contextKey: contextKey,\n      state: state,\n      navigation: navigation,\n      descriptors: descriptors,\n      router: router\n    },\n    children: _reactJsxDevRuntime.jsxDEV(NavigationContent, {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 13\n  }, this);\n}\nfunction useNavigatorContext() {\n  var context = React.useContext(exports.NavigatorContext);\n  if (!context) {\n    throw new Error('useNavigatorContext must be used within a <Navigator />');\n  }\n  return context;\n}\nexports.useNavigatorContext = useNavigatorContext;\nfunction useSlot() {\n  var _descriptors$current$, _descriptors$current$2;\n  var context = useNavigatorContext();\n  var state = context.state,\n    descriptors = context.descriptors;\n  var current = state.routes.find(function (route, i) {\n    return state.index === i;\n  });\n  if (!current) {\n    return null;\n  }\n  return (_descriptors$current$ = (_descriptors$current$2 = descriptors[current.key]) == null ? void 0 : _descriptors$current$2.render()) != null ? _descriptors$current$ : null;\n}\nexports.useSlot = useSlot;\nfunction Slot(props) {\n  var contextKey = (0, Route_1.useContextKey)();\n  var context = React.useContext(exports.NavigatorContext);\n  if ((context == null ? void 0 : context.contextKey) !== contextKey) {\n    return _reactJsxDevRuntime.jsxDEV(Navigator, _objectSpread(_objectSpread({}, props), {}, {\n      children: _reactJsxDevRuntime.jsxDEV(QualifiedSlot, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this);\n  }\n  return _reactJsxDevRuntime.jsxDEV(QualifiedSlot, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 12\n  }, this);\n}\nexports.Slot = Slot;\nfunction QualifiedSlot() {\n  return useSlot();\n}\nexports.QualifiedSlot = QualifiedSlot;\nfunction DefaultNavigator() {\n  return _reactJsxDevRuntime.jsxDEV(react_native_safe_area_context_1.SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: _reactJsxDevRuntime.jsxDEV(Navigator, {\n      children: _reactJsxDevRuntime.jsxDEV(QualifiedSlot, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 13\n  }, this);\n}\nexports.DefaultNavigator = DefaultNavigator;\nNavigator.Slot = Slot;\nNavigator.useContext = useNavigatorContext;\nNavigator.Screen = Screen_1.Screen;","map":{"version":3,"names":["native_1","require","React","__importStar","react_native_safe_area_context_1","Screen_1","Route_1","withLayoutContext_1","useScreens_1","exports","NavigatorContext","createContext","process","env","NODE_ENV","displayName","Navigator","_ref","initialRouteName","screenOptions","children","router","contextKey","useContextKey","_ref2","useFilterScreenChildren","isCustomNavigator","screens","otherSlot","sorted","useSortedScreens","length","console","warn","_reactJsxDevRuntime","jsxDEV","QualifiedNavigator","fileName","_jsxFileName","lineNumber","columnNumber","_ref3","_ref3$router","StackRouter","_ref4","useNavigationBuilder","id","state","navigation","descriptors","NavigationContent","Provider","value","useNavigatorContext","context","useContext","Error","useSlot","_descriptors$current$","_descriptors$current$2","current","routes","find","route","i","index","key","render","Slot","props","_objectSpread","QualifiedSlot","DefaultNavigator","SafeAreaView","style","flex","Screen"],"sources":["/Users/josh/src/ui/apps/old-demo/node_modules/expo-router/src/views/Navigator.tsx"],"sourcesContent":["import { RouterFactory, StackRouter, useNavigationBuilder } from '@react-navigation/native';\nimport * as React from 'react';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nimport { Screen } from './Screen';\nimport { useContextKey } from '../Route';\nimport { useFilterScreenChildren } from '../layouts/withLayoutContext';\nimport { useSortedScreens } from '../useScreens';\n\ntype NavigatorTypes = ReturnType<typeof useNavigationBuilder>;\n\n// TODO: This might already exist upstream, maybe something like `useCurrentRender` ?\nexport const NavigatorContext = React.createContext<{\n  contextKey: string;\n  state: NavigatorTypes['state'];\n  navigation: NavigatorTypes['navigation'];\n  descriptors: NavigatorTypes['descriptors'];\n  router: RouterFactory<any, any, any>;\n} | null>(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  NavigatorContext.displayName = 'NavigatorContext';\n}\n\nexport type NavigatorProps = {\n  initialRouteName?: Parameters<typeof useNavigationBuilder>[1]['initialRouteName'];\n  screenOptions?: Parameters<typeof useNavigationBuilder>[1]['screenOptions'];\n  children?: Parameters<typeof useNavigationBuilder>[1]['children'];\n  router?: Parameters<typeof useNavigationBuilder>[0];\n};\n\n/** An unstyled custom navigator. Good for basic web layouts */\nexport function Navigator({ initialRouteName, screenOptions, children, router }: NavigatorProps) {\n  const contextKey = useContextKey();\n\n  // Allows adding Screen components as children to configure routes.\n  const { screens, children: otherSlot } = useFilterScreenChildren(children, {\n    isCustomNavigator: true,\n    contextKey,\n  });\n\n  const sorted = useSortedScreens(screens ?? []);\n\n  if (!sorted.length) {\n    console.warn(`Navigator at \"${contextKey}\" has no children.`);\n    return null;\n  }\n\n  return (\n    <QualifiedNavigator\n      initialRouteName={initialRouteName}\n      screenOptions={screenOptions}\n      screens={sorted}\n      contextKey={contextKey}\n      router={router}>\n      {otherSlot}\n    </QualifiedNavigator>\n  );\n}\n\nfunction QualifiedNavigator({\n  initialRouteName,\n  screenOptions,\n  children,\n  screens,\n  contextKey,\n  router = StackRouter,\n}: NavigatorProps & { contextKey: string; screens: React.ReactNode[] }) {\n  const { state, navigation, descriptors, NavigationContent } = useNavigationBuilder(router, {\n    // Used for getting the parent with navigation.getParent('/normalized/path')\n    id: contextKey,\n    children: screens,\n    screenOptions,\n    initialRouteName,\n  });\n\n  return (\n    <NavigatorContext.Provider\n      value={{\n        contextKey,\n        state,\n        navigation,\n        descriptors,\n        router,\n      }}>\n      <NavigationContent>{children}</NavigationContent>\n    </NavigatorContext.Provider>\n  );\n}\n\nexport function useNavigatorContext() {\n  const context = React.useContext(NavigatorContext);\n  if (!context) {\n    throw new Error('useNavigatorContext must be used within a <Navigator />');\n  }\n  return context;\n}\n\nexport function useSlot() {\n  const context = useNavigatorContext();\n\n  const { state, descriptors } = context;\n\n  const current = state.routes.find((route, i) => {\n    return state.index === i;\n  });\n\n  if (!current) {\n    return null;\n  }\n\n  return descriptors[current.key]?.render() ?? null;\n}\n\n/** Renders the currently selected content. */\nexport function Slot(props: Omit<NavigatorProps, 'children'>) {\n  const contextKey = useContextKey();\n  const context = React.useContext(NavigatorContext);\n  // Ensure the context is for the current contextKey\n  if (context?.contextKey !== contextKey) {\n    // Qualify the content and re-export.\n    return (\n      <Navigator {...props}>\n        <QualifiedSlot />\n      </Navigator>\n    );\n  }\n\n  return <QualifiedSlot />;\n}\n\nexport function QualifiedSlot() {\n  return useSlot();\n}\n\nexport function DefaultNavigator() {\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <Navigator>\n        <QualifiedSlot />\n      </Navigator>\n    </SafeAreaView>\n  );\n}\n\nNavigator.Slot = Slot;\nNavigator.useContext = useNavigatorContext;\n\n/** Used to configure route settings. */\nNavigator.Screen = Screen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorToast = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar ErrorToastMessage_1 = require(\"./ErrorToastMessage\");\nvar LogBoxData = __importStar(require(\"../Data/LogBoxData\"));\nvar LogBoxStyle = __importStar(require(\"../UI/LogBoxStyle\"));\nfunction useSymbolicatedLog(log) {\n  (0, react_1.useEffect)(function () {\n    LogBoxData.symbolicateLogLazy('stack', log);\n    LogBoxData.symbolicateLogLazy('component', log);\n  }, [log]);\n}\nfunction ErrorToast(props) {\n  var totalLogCount = props.totalLogCount,\n    level = props.level,\n    log = props.log;\n  useSymbolicatedLog(log);\n  return react_1.default.createElement(react_native_1.View, {\n    style: toastStyles.container\n  }, react_1.default.createElement(react_native_1.Pressable, {\n    style: {\n      flex: 1\n    },\n    onPress: props.onPressOpen\n  }, function (_ref) {\n    var hovered = _ref.hovered,\n      pressed = _ref.pressed;\n    return react_1.default.createElement(react_native_1.View, {\n      style: [toastStyles.press, {\n        transitionDuration: '150ms',\n        backgroundColor: pressed ? '#323232' : hovered ? '#111111' : LogBoxStyle.getBackgroundColor()\n      }]\n    }, react_1.default.createElement(Count, {\n      count: totalLogCount,\n      level: level\n    }), react_1.default.createElement(ErrorToastMessage_1.ErrorToastMessage, {\n      message: log.message\n    }), react_1.default.createElement(Dismiss, {\n      onPress: props.onPressDismiss\n    }));\n  }));\n}\nexports.ErrorToast = ErrorToast;\nfunction Count(_ref2) {\n  var count = _ref2.count,\n    level = _ref2.level;\n  return react_1.default.createElement(react_native_1.View, {\n    style: [countStyles.inside, countStyles[level]]\n  }, react_1.default.createElement(react_native_1.Text, {\n    style: countStyles.text\n  }, count <= 1 ? '!' : count));\n}\nfunction Dismiss(_ref3) {\n  var onPress = _ref3.onPress;\n  return react_1.default.createElement(react_native_1.Pressable, {\n    style: {\n      marginLeft: 5\n    },\n    hitSlop: {\n      top: 12,\n      right: 10,\n      bottom: 12,\n      left: 10\n    },\n    onPress: onPress\n  }, function (_ref4) {\n    var hovered = _ref4.hovered,\n      pressed = _ref4.pressed;\n    return react_1.default.createElement(react_native_1.View, {\n      style: [dismissStyles.press, hovered && {\n        opacity: 0.8\n      }, pressed && {\n        opacity: 0.5\n      }]\n    }, react_1.default.createElement(react_native_1.Image, {\n      source: require('@expo/metro-runtime/assets/close.png'),\n      style: dismissStyles.image\n    }));\n  });\n}\nvar countStyles = react_native_1.StyleSheet.create({\n  warn: {\n    backgroundColor: LogBoxStyle.getWarningColor(1)\n  },\n  error: {\n    backgroundColor: LogBoxStyle.getErrorColor(1)\n  },\n  log: {\n    backgroundColor: LogBoxStyle.getLogColor(1)\n  },\n  inside: {\n    marginRight: 8,\n    minWidth: 22,\n    aspectRatio: 1,\n    paddingHorizontal: 4,\n    borderRadius: 11,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  text: _objectSpread({\n    color: LogBoxStyle.getTextColor(1),\n    fontSize: 14,\n    lineHeight: 18,\n    textAlign: 'center',\n    fontWeight: '600'\n  }, react_native_1.Platform.select({\n    web: {\n      textShadow: `0px 0px 3px ${LogBoxStyle.getBackgroundColor(0.8)}`\n    }\n  }))\n});\nvar dismissStyles = react_native_1.StyleSheet.create({\n  press: {\n    backgroundColor: '#323232',\n    height: 20,\n    width: 20,\n    borderRadius: 25,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    height: 8,\n    width: 8\n  }\n});\nvar toastStyles = react_native_1.StyleSheet.create({\n  container: {\n    height: 48,\n    justifyContent: 'center',\n    marginBottom: 4\n  },\n  press: {\n    borderWidth: 1,\n    borderRadius: 8,\n    overflow: 'hidden',\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderColor: '#323232',\n    backgroundColor: LogBoxStyle.getBackgroundColor(),\n    flex: 1,\n    paddingHorizontal: 12\n  }\n});","map":{"version":3,"names":["react_1","__importStar","require","react_native_1","ErrorToastMessage_1","LogBoxData","LogBoxStyle","useSymbolicatedLog","log","useEffect","symbolicateLogLazy","ErrorToast","props","totalLogCount","level","default","createElement","View","style","toastStyles","container","Pressable","flex","onPress","onPressOpen","_ref","hovered","pressed","press","transitionDuration","backgroundColor","getBackgroundColor","Count","count","ErrorToastMessage","message","Dismiss","onPressDismiss","exports","_ref2","countStyles","inside","Text","text","_ref3","marginLeft","hitSlop","top","right","bottom","left","_ref4","dismissStyles","opacity","Image","source","image","StyleSheet","create","warn","getWarningColor","error","getErrorColor","getLogColor","marginRight","minWidth","aspectRatio","paddingHorizontal","borderRadius","justifyContent","alignItems","_objectSpread","color","getTextColor","fontSize","lineHeight","textAlign","fontWeight","Platform","select","web","textShadow","height","width","marginBottom","borderWidth","overflow","flexDirection","borderColor"],"sources":["/Users/josh/src/ui/apps/demo/node_modules/@expo/metro-runtime/src/error-overlay/toast/ErrorToast.tsx"],"sourcesContent":["/**\n * Copyright (c) 650 Industries.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useEffect } from 'react';\nimport { Image, Platform, Pressable, StyleSheet, Text, View } from 'react-native';\n\nimport { ErrorToastMessage } from './ErrorToastMessage';\nimport * as LogBoxData from '../Data/LogBoxData';\nimport { LogBoxLog } from '../Data/LogBoxLog';\nimport * as LogBoxStyle from '../UI/LogBoxStyle';\n\ntype Props = {\n  log: LogBoxLog;\n  totalLogCount: number;\n  level: 'warn' | 'error';\n  onPressOpen: () => void;\n  onPressDismiss: () => void;\n};\n\nfunction useSymbolicatedLog(log: LogBoxLog) {\n  // Eagerly symbolicate so the stack is available when pressing to inspect.\n  useEffect(() => {\n    LogBoxData.symbolicateLogLazy('stack', log);\n    LogBoxData.symbolicateLogLazy('component', log);\n  }, [log]);\n}\n\nexport function ErrorToast(props: Props) {\n  const { totalLogCount, level, log } = props;\n\n  useSymbolicatedLog(log);\n\n  return (\n    <View style={toastStyles.container}>\n      <Pressable style={{ flex: 1 }} onPress={props.onPressOpen}>\n        {({\n          /** @ts-expect-error: react-native types are broken. */\n          hovered,\n          pressed,\n        }) => (\n          <View\n            style={[\n              toastStyles.press,\n              {\n                // @ts-expect-error: web-only type\n                transitionDuration: '150ms',\n                backgroundColor: pressed\n                  ? '#323232'\n                  : hovered\n                  ? '#111111'\n                  : LogBoxStyle.getBackgroundColor(),\n              },\n            ]}>\n            <Count count={totalLogCount} level={level} />\n            <ErrorToastMessage message={log.message} />\n            <Dismiss onPress={props.onPressDismiss} />\n          </View>\n        )}\n      </Pressable>\n    </View>\n  );\n}\n\nfunction Count({ count, level }: { count: number; level: Props['level'] }) {\n  return (\n    <View style={[countStyles.inside, countStyles[level]]}>\n      <Text style={countStyles.text}>{count <= 1 ? '!' : count}</Text>\n    </View>\n  );\n}\n\nfunction Dismiss({ onPress }: { onPress: () => void }) {\n  return (\n    <Pressable\n      style={{\n        marginLeft: 5,\n      }}\n      hitSlop={{\n        top: 12,\n        right: 10,\n        bottom: 12,\n        left: 10,\n      }}\n      onPress={onPress}>\n      {({\n        /** @ts-expect-error: react-native types are broken. */\n        hovered,\n        pressed,\n      }) => (\n        <View\n          style={[dismissStyles.press, hovered && { opacity: 0.8 }, pressed && { opacity: 0.5 }]}>\n          <Image\n            source={require('@expo/metro-runtime/assets/close.png')}\n            style={dismissStyles.image}\n          />\n        </View>\n      )}\n    </Pressable>\n  );\n}\n\nconst countStyles = StyleSheet.create({\n  warn: {\n    backgroundColor: LogBoxStyle.getWarningColor(1),\n  },\n  error: {\n    backgroundColor: LogBoxStyle.getErrorColor(1),\n  },\n  log: {\n    backgroundColor: LogBoxStyle.getLogColor(1),\n  },\n  inside: {\n    marginRight: 8,\n    minWidth: 22,\n    aspectRatio: 1,\n    paddingHorizontal: 4,\n    borderRadius: 11,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    color: LogBoxStyle.getTextColor(1),\n    fontSize: 14,\n    lineHeight: 18,\n    textAlign: 'center',\n    fontWeight: '600',\n    ...Platform.select({\n      web: {\n        textShadow: `0px 0px 3px ${LogBoxStyle.getBackgroundColor(0.8)}`,\n      },\n    }),\n  },\n});\n\nconst dismissStyles = StyleSheet.create({\n  press: {\n    backgroundColor: '#323232',\n    height: 20,\n    width: 20,\n    borderRadius: 25,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  image: {\n    height: 8,\n    width: 8,\n  },\n});\n\nconst toastStyles = StyleSheet.create({\n  container: {\n    height: 48,\n    justifyContent: 'center',\n    marginBottom: 4,\n  },\n  press: {\n    borderWidth: 1,\n    borderRadius: 8,\n    overflow: 'hidden',\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderColor: '#323232',\n    backgroundColor: LogBoxStyle.getBackgroundColor(),\n    flex: 1,\n    paddingHorizontal: 12,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
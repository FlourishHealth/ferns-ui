{"ast":null,"code":"\"use strict\";\n\nvar _react = require(\"react\");\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar _reactJsxDevRuntime = require(\"react/jsx-dev-runtime\");\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nvar _excluded = [\"ErrorBoundary\"],\n  _excluded2 = [\"route\", \"navigation\"],\n  _excluded3 = [\"options\"];\nvar _jsxFileName = \"/Users/josh/src/ui/apps/demo/node_modules/expo-router/build/useScreens.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createGetIdForRoute = exports.getQualifiedRouteComponent = exports.useSortedScreens = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar Route_1 = require(\"./Route\");\nvar import_mode_1 = __importDefault(require(\"./import-mode\"));\nvar primitives_1 = require(\"./primitives\");\nvar EmptyRoute_1 = require(\"./views/EmptyRoute\");\nvar SuspenseFallback_1 = require(\"./views/SuspenseFallback\");\nvar Try_1 = require(\"./views/Try\");\nfunction getSortedChildren(children, order, initialRouteName) {\n  if (!(order != null && order.length)) {\n    return children.sort((0, Route_1.sortRoutesWithInitial)(initialRouteName)).map(function (route) {\n      return {\n        route: route,\n        props: {}\n      };\n    });\n  }\n  var entries = _toConsumableArray(children);\n  var ordered = order.map(function (_ref) {\n    var name = _ref.name,\n      redirect = _ref.redirect,\n      initialParams = _ref.initialParams,\n      listeners = _ref.listeners,\n      options = _ref.options,\n      getId = _ref.getId;\n    if (!entries.length) {\n      console.warn(`[Layout children]: Too many screens defined. Route \"${name}\" is extraneous.`);\n      return null;\n    }\n    var matchIndex = entries.findIndex(function (child) {\n      return child.route === name;\n    });\n    if (matchIndex === -1) {\n      console.warn(`[Layout children]: No route named \"${name}\" exists in nested children:`, children.map(function (_ref2) {\n        var route = _ref2.route;\n        return route;\n      }));\n      return null;\n    } else {\n      var match = entries[matchIndex];\n      entries.splice(matchIndex, 1);\n      if (redirect) {\n        if (typeof redirect === 'string') {\n          throw new Error(`Redirecting to a specific route is not supported yet.`);\n        }\n        return null;\n      }\n      return {\n        route: match,\n        props: {\n          initialParams: initialParams,\n          listeners: listeners,\n          options: options,\n          getId: getId\n        }\n      };\n    }\n  }).filter(Boolean);\n  ordered.push.apply(ordered, _toConsumableArray(entries.sort((0, Route_1.sortRoutesWithInitial)(initialRouteName)).map(function (route) {\n    return {\n      route: route,\n      props: {}\n    };\n  })));\n  return ordered;\n}\nfunction useSortedScreens(order) {\n  var _node$children;\n  var node = (0, Route_1.useRouteNode)();\n  var sorted = node != null && (_node$children = node.children) != null && _node$children.length ? getSortedChildren(node.children, order, node.initialRouteName) : [];\n  return react_1.default.useMemo(function () {\n    return sorted.map(function (value) {\n      return routeToScreen(value.route, value.props);\n    });\n  }, [sorted]);\n}\nexports.useSortedScreens = useSortedScreens;\nfunction fromImport(_ref3) {\n  var _this = this;\n  var ErrorBoundary = _ref3.ErrorBoundary,\n    component = _objectWithoutProperties(_ref3, _excluded);\n  if (ErrorBoundary) {\n    return {\n      default: react_1.default.forwardRef(function (props, ref) {\n        var children = react_1.default.createElement(component.default || EmptyRoute_1.EmptyRoute, _objectSpread(_objectSpread({}, props), {}, {\n          ref: ref\n        }));\n        return _reactJsxDevRuntime.jsxDEV(Try_1.Try, {\n          catch: ErrorBoundary,\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 24\n        }, _this);\n      })\n    };\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof component.default === 'object' && component.default && Object.keys(component.default).length === 0) {\n      return {\n        default: EmptyRoute_1.EmptyRoute\n      };\n    }\n  }\n  return {\n    default: component.default\n  };\n}\nfunction fromLoadedRoute(res) {\n  if (!(res instanceof Promise)) {\n    return fromImport(res);\n  }\n  return res.then(fromImport);\n}\nvar qualifiedStore = new WeakMap();\nfunction getQualifiedRouteComponent(value) {\n  var _this2 = this;\n  if (qualifiedStore.has(value)) {\n    return qualifiedStore.get(value);\n  }\n  var ScreenComponent;\n  if (import_mode_1.default === 'lazy') {\n    ScreenComponent = react_1.default.lazy(_asyncToGenerator(function* () {\n      var res = value.loadRoute();\n      return fromLoadedRoute(res);\n    }));\n  } else {\n    var res = value.loadRoute();\n    var Component = fromImport(res).default;\n    ScreenComponent = react_1.default.forwardRef(function (props, ref) {\n      return _reactJsxDevRuntime.jsxDEV(Component, _objectSpread(_objectSpread({}, props), {}, {\n        ref: ref\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 20\n      }, _this2);\n    });\n  }\n  var getLoadable = function getLoadable(props, ref) {\n    return _reactJsxDevRuntime.jsxDEV(react_1.default.Suspense, {\n      fallback: _reactJsxDevRuntime.jsxDEV(SuspenseFallback_1.SuspenseFallback, {\n        route: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 78\n      }, _this2),\n      children: _reactJsxDevRuntime.jsxDEV(ScreenComponent, _objectSpread({}, _objectSpread(_objectSpread({}, props), {}, {\n        ref: ref,\n        segment: value.route\n      })), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, _this2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 42\n    }, _this2);\n  };\n  var QualifiedRoute = react_1.default.forwardRef(function (_ref5, ref) {\n    var route = _ref5.route,\n      navigation = _ref5.navigation,\n      props = _objectWithoutProperties(_ref5, _excluded2);\n    var loadable = getLoadable(props, ref);\n    return _reactJsxDevRuntime.jsxDEV(Route_1.Route, {\n      node: value,\n      children: loadable\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 16\n    }, _this2);\n  });\n  QualifiedRoute.displayName = `Route(${value.route})`;\n  qualifiedStore.set(value, QualifiedRoute);\n  return QualifiedRoute;\n}\nexports.getQualifiedRouteComponent = getQualifiedRouteComponent;\nfunction createGetIdForRoute(route) {\n  var _route$dynamic;\n  if (!((_route$dynamic = route.dynamic) != null && _route$dynamic.length)) {\n    return undefined;\n  }\n  return function (_ref6) {\n    var _route$dynamic2;\n    var params = _ref6.params;\n    var getPreferredId = function getPreferredId(segment) {\n      var preferredId = params == null ? void 0 : params[segment.name];\n      if (preferredId) {\n        if (!Array.isArray(preferredId)) {\n          return preferredId;\n        } else if (preferredId.length) {\n          return preferredId.join('/');\n        }\n      }\n      return segment.deep ? `[...${segment.name}]` : `[${segment.name}]`;\n    };\n    return (_route$dynamic2 = route.dynamic) == null ? void 0 : _route$dynamic2.map(function (segment) {\n      return getPreferredId(segment);\n    }).join('/');\n  };\n}\nexports.createGetIdForRoute = createGetIdForRoute;\nfunction routeToScreen(route) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options = _ref7.options,\n    props = _objectWithoutProperties(_ref7, _excluded3);\n  return _react.createElement(primitives_1.Screen, _objectSpread(_objectSpread({\n    getId: createGetIdForRoute(route)\n  }, props), {}, {\n    name: route.route,\n    key: route.route,\n    options: function options(args) {\n      var _route$loadRoute;\n      var staticOptions = route.generated ? (_route$loadRoute = route.loadRoute()) == null ? void 0 : _route$loadRoute.getNavOptions : null;\n      var staticResult = typeof staticOptions === 'function' ? staticOptions(args) : staticOptions;\n      var dynamicResult = typeof _options === 'function' ? _options == null ? void 0 : _options(args) : _options;\n      var output = _objectSpread(_objectSpread({}, staticResult), dynamicResult);\n      if (route.generated) {\n        output.tabBarButton = function () {\n          return null;\n        };\n        output.drawerItemStyle = {\n          height: 0,\n          display: 'none'\n        };\n      }\n      return output;\n    },\n    getComponent: function getComponent() {\n      return getQualifiedRouteComponent(route);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"names":["react_1","__importDefault","require","Route_1","import_mode_1","primitives_1","EmptyRoute_1","SuspenseFallback_1","Try_1","getSortedChildren","children","order","initialRouteName","length","sort","sortRoutesWithInitial","map","route","props","entries","_toConsumableArray","ordered","_ref","name","redirect","initialParams","listeners","options","getId","console","warn","matchIndex","findIndex","child","_ref2","match","splice","Error","filter","Boolean","push","apply","useSortedScreens","_node$children","node","useRouteNode","sorted","default","useMemo","value","routeToScreen","exports","fromImport","_ref3","_this","ErrorBoundary","component","_objectWithoutProperties","_excluded","forwardRef","ref","createElement","EmptyRoute","_objectSpread","_reactJsxDevRuntime","jsxDEV","Try","catch","fileName","_jsxFileName","lineNumber","columnNumber","process","env","NODE_ENV","Object","keys","fromLoadedRoute","res","Promise","then","qualifiedStore","WeakMap","getQualifiedRouteComponent","_this2","has","get","ScreenComponent","lazy","_asyncToGenerator","loadRoute","Component","getLoadable","Suspense","fallback","SuspenseFallback","segment","QualifiedRoute","_ref5","navigation","_excluded2","loadable","Route","displayName","set","createGetIdForRoute","_route$dynamic","dynamic","undefined","_ref6","_route$dynamic2","params","getPreferredId","preferredId","Array","isArray","join","deep","_ref7","arguments","_excluded3","_react","Screen","key","args","_route$loadRoute","staticOptions","generated","getNavOptions","staticResult","dynamicResult","output","tabBarButton","drawerItemStyle","height","display","getComponent","__self","__source"],"sources":["/Users/josh/src/ui/apps/demo/node_modules/expo-router/src/useScreens.tsx"],"sourcesContent":["import type {\n  EventMapBase,\n  NavigationState,\n  ParamListBase,\n  RouteProp,\n  ScreenListeners,\n} from '@react-navigation/native';\nimport React from 'react';\n\nimport {\n  DynamicConvention,\n  LoadedRoute,\n  Route,\n  RouteNode,\n  sortRoutesWithInitial,\n  useRouteNode,\n} from './Route';\nimport EXPO_ROUTER_IMPORT_MODE from './import-mode';\nimport { Screen } from './primitives';\nimport { EmptyRoute } from './views/EmptyRoute';\nimport { SuspenseFallback } from './views/SuspenseFallback';\nimport { Try } from './views/Try';\n\nexport type ScreenProps<\n  TOptions extends Record<string, any> = Record<string, any>,\n  State extends NavigationState = NavigationState,\n  EventMap extends EventMapBase = EventMapBase,\n> = {\n  /** Name is required when used inside a Layout component. */\n  name?: string;\n  /**\n   * Redirect to the nearest sibling route.\n   * If all children are redirect={true}, the layout will render `null` as there are no children to render.\n   */\n  redirect?: boolean;\n  initialParams?: { [key: string]: any };\n  options?: TOptions;\n\n  listeners?:\n    | ScreenListeners<State, EventMap>\n    | ((prop: {\n        route: RouteProp<ParamListBase, string>;\n        navigation: any;\n      }) => ScreenListeners<State, EventMap>);\n\n  getId?: ({ params }: { params?: Record<string, any> | undefined }) => string | undefined;\n};\n\nfunction getSortedChildren(\n  children: RouteNode[],\n  order?: ScreenProps[],\n  initialRouteName?: string\n): { route: RouteNode; props: Partial<ScreenProps> }[] {\n  if (!order?.length) {\n    return children\n      .sort(sortRoutesWithInitial(initialRouteName))\n      .map((route) => ({ route, props: {} }));\n  }\n  const entries = [...children];\n\n  const ordered = order\n    .map(({ name, redirect, initialParams, listeners, options, getId }) => {\n      if (!entries.length) {\n        console.warn(`[Layout children]: Too many screens defined. Route \"${name}\" is extraneous.`);\n        return null;\n      }\n      const matchIndex = entries.findIndex((child) => child.route === name);\n      if (matchIndex === -1) {\n        console.warn(\n          `[Layout children]: No route named \"${name}\" exists in nested children:`,\n          children.map(({ route }) => route)\n        );\n        return null;\n      } else {\n        // Get match and remove from entries\n        const match = entries[matchIndex];\n        entries.splice(matchIndex, 1);\n\n        // Ensure to return null after removing from entries.\n        if (redirect) {\n          if (typeof redirect === 'string') {\n            throw new Error(`Redirecting to a specific route is not supported yet.`);\n          }\n          return null;\n        }\n\n        return {\n          route: match,\n          props: { initialParams, listeners, options, getId },\n        };\n      }\n    })\n    .filter(Boolean) as {\n    route: RouteNode;\n    props: Partial<ScreenProps>;\n  }[];\n\n  // Add any remaining children\n  ordered.push(\n    ...entries.sort(sortRoutesWithInitial(initialRouteName)).map((route) => ({ route, props: {} }))\n  );\n\n  return ordered;\n}\n\n/**\n * @returns React Navigation screens sorted by the `route` property.\n */\nexport function useSortedScreens(order: ScreenProps[]): React.ReactNode[] {\n  const node = useRouteNode();\n\n  const sorted = node?.children?.length\n    ? getSortedChildren(node.children, order, node.initialRouteName)\n    : [];\n  return React.useMemo(\n    () => sorted.map((value) => routeToScreen(value.route, value.props)),\n    [sorted]\n  );\n}\n\nfunction fromImport({ ErrorBoundary, ...component }: LoadedRoute) {\n  if (ErrorBoundary) {\n    return {\n      default: React.forwardRef((props: any, ref: any) => {\n        const children = React.createElement(component.default || EmptyRoute, {\n          ...props,\n          ref,\n        });\n        return <Try catch={ErrorBoundary}>{children}</Try>;\n      }),\n    };\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (\n      typeof component.default === 'object' &&\n      component.default &&\n      Object.keys(component.default).length === 0\n    ) {\n      return { default: EmptyRoute };\n    }\n  }\n\n  return { default: component.default };\n}\n\nfunction fromLoadedRoute(res: LoadedRoute) {\n  if (!(res instanceof Promise)) {\n    return fromImport(res);\n  }\n\n  return res.then(fromImport);\n}\n\n// TODO: Maybe there's a more React-y way to do this?\n// Without this store, the process enters a recursive loop.\nconst qualifiedStore = new WeakMap<RouteNode, React.ComponentType<any>>();\n\n/** Wrap the component with various enhancements and add access to child routes. */\nexport function getQualifiedRouteComponent(value: RouteNode) {\n  if (qualifiedStore.has(value)) {\n    return qualifiedStore.get(value)!;\n  }\n\n  let ScreenComponent: React.ForwardRefExoticComponent<React.RefAttributes<unknown>>;\n\n  // TODO: This ensures sync doesn't use React.lazy, but it's not ideal.\n  if (EXPO_ROUTER_IMPORT_MODE === 'lazy') {\n    ScreenComponent = React.lazy(async () => {\n      const res = value.loadRoute();\n      return fromLoadedRoute(res) as Promise<{\n        default: React.ComponentType<any>;\n      }>;\n    });\n  } else {\n    const res = value.loadRoute();\n    const Component = fromImport(res).default as React.ComponentType<any>;\n    ScreenComponent = React.forwardRef((props, ref) => {\n      return <Component {...props} ref={ref} />;\n    });\n  }\n\n  const getLoadable = (props: any, ref: any) => (\n    <React.Suspense fallback={<SuspenseFallback route={value} />}>\n      <ScreenComponent\n        {...{\n          ...props,\n          ref,\n          // Expose the template segment path, e.g. `(home)`, `[foo]`, `index`\n          // the intention is to make it possible to deduce shared routes.\n          segment: value.route,\n        }}\n      />\n    </React.Suspense>\n  );\n\n  const QualifiedRoute = React.forwardRef(\n    (\n      {\n        // Remove these React Navigation props to\n        // enforce usage of expo-router hooks (where the query params are correct).\n        route,\n        navigation,\n\n        // Pass all other props to the component\n        ...props\n      }: any,\n      ref: any\n    ) => {\n      const loadable = getLoadable(props, ref);\n\n      return <Route node={value}>{loadable}</Route>;\n    }\n  );\n\n  QualifiedRoute.displayName = `Route(${value.route})`;\n\n  qualifiedStore.set(value, QualifiedRoute);\n  return QualifiedRoute;\n}\n\n/** @returns a function which provides a screen id that matches the dynamic route name in params. */\nexport function createGetIdForRoute(route: Pick<RouteNode, 'dynamic' | 'route'>) {\n  if (!route.dynamic?.length) {\n    return undefined;\n  }\n  return ({ params }: { params?: Record<string, any> }) => {\n    const getPreferredId = (segment: DynamicConvention) => {\n      // Params can be undefined when there are no params in the route.\n      const preferredId = params?.[segment.name];\n      // If the route has a dynamic segment, use the matching parameter\n      // as the screen id. This enables pushing a screen like `/[user]` multiple times\n      // when the user is different.\n      if (preferredId) {\n        if (!Array.isArray(preferredId)) {\n          return preferredId;\n        } else if (preferredId.length) {\n          // Deep dynamic routes will return as an array, so we'll join them to create a\n          // fully qualified string.\n          return preferredId.join('/');\n        }\n        // Empty arrays...\n      }\n      return segment.deep ? `[...${segment.name}]` : `[${segment.name}]`;\n    };\n    return route.dynamic?.map((segment) => getPreferredId(segment)).join('/');\n  };\n}\n\nfunction routeToScreen(route: RouteNode, { options, ...props }: Partial<ScreenProps> = {}) {\n  return (\n    <Screen\n      // Users can override the screen getId function.\n      getId={createGetIdForRoute(route)}\n      {...props}\n      name={route.route}\n      key={route.route}\n      options={(args) => {\n        // Only eager load generated components\n        const staticOptions = route.generated ? route.loadRoute()?.getNavOptions : null;\n        const staticResult =\n          typeof staticOptions === 'function' ? staticOptions(args) : staticOptions;\n        const dynamicResult = typeof options === 'function' ? options?.(args) : options;\n        const output = {\n          ...staticResult,\n          ...dynamicResult,\n        };\n\n        // Prevent generated screens from showing up in the tab bar.\n        if (route.generated) {\n          output.tabBarButton = () => null;\n          // TODO: React Navigation doesn't provide a way to prevent rendering the drawer item.\n          output.drawerItemStyle = { height: 0, display: 'none' };\n        }\n\n        return output;\n      }}\n      getComponent={() => getQualifiedRouteComponent(route)}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
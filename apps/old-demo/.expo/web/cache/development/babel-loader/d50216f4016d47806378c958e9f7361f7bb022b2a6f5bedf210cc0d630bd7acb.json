{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _reactJsxDevRuntime = require(\"react/jsx-dev-runtime\");\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nvar _excluded = [\"href\", \"replace\", \"push\", \"asChild\", \"rel\", \"target\", \"download\"];\nvar _jsxFileName = \"/Users/josh/src/ui/apps/demo/node_modules/expo-router/build/link/Link.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Link = exports.Redirect = void 0;\nvar react_slot_1 = require(\"@radix-ui/react-slot\");\nvar React = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar href_1 = require(\"./href\");\nvar useLinkToPathProps_1 = __importDefault(require(\"./useLinkToPathProps\"));\nvar hooks_1 = require(\"../hooks\");\nvar useFocusEffect_1 = require(\"../useFocusEffect\");\nfunction Redirect(_ref) {\n  var href = _ref.href;\n  var router = (0, hooks_1.useRouter)();\n  (0, useFocusEffect_1.useFocusEffect)(function () {\n    try {\n      router.replace(href);\n    } catch (error) {\n      console.error(error);\n    }\n  });\n  return null;\n}\nexports.Redirect = Redirect;\nexports.Link = React.forwardRef(ExpoRouterLink);\nexports.Link.resolveHref = href_1.resolveHref;\nfunction useInteropClassName(props) {\n  if (react_native_1.Platform.OS !== 'web') {\n    return props.style;\n  }\n  return React.useMemo(function () {\n    if (props.className == null) {\n      return props.style;\n    }\n    var cssStyle = {\n      $$css: true,\n      __routerLinkClassName: props.className\n    };\n    if (Array.isArray(props.style)) {\n      return [].concat(_toConsumableArray(props.style), [cssStyle]);\n    }\n    return [props.style, cssStyle];\n  }, [props.style, props.className]);\n}\nvar useHrefAttrs = react_native_1.Platform.select({\n  web: function useHrefAttrs(_ref2) {\n    var asChild = _ref2.asChild,\n      rel = _ref2.rel,\n      target = _ref2.target,\n      download = _ref2.download;\n    return React.useMemo(function () {\n      var hrefAttrs = {\n        rel: rel,\n        target: target,\n        download: download\n      };\n      if (asChild) {\n        return hrefAttrs;\n      }\n      return {\n        hrefAttrs: hrefAttrs\n      };\n    }, [asChild, rel, target, download]);\n  },\n  default: function useHrefAttrs() {\n    return {};\n  }\n});\nfunction ExpoRouterLink(_ref3, ref) {\n  var href = _ref3.href,\n    replace = _ref3.replace,\n    push = _ref3.push,\n    asChild = _ref3.asChild,\n    rel = _ref3.rel,\n    target = _ref3.target,\n    download = _ref3.download,\n    rest = _objectWithoutProperties(_ref3, _excluded);\n  var style = useInteropClassName(rest);\n  var hrefAttrs = useHrefAttrs({\n    asChild: asChild,\n    rel: rel,\n    target: target,\n    download: download\n  });\n  var resolvedHref = React.useMemo(function () {\n    if (href == null) {\n      throw new Error('Link: href is required');\n    }\n    return (0, href_1.resolveHref)(href);\n  }, [href]);\n  var event;\n  if (push) event = 'PUSH';\n  if (replace) event = 'REPLACE';\n  var props = (0, useLinkToPathProps_1.default)({\n    href: resolvedHref,\n    event: event\n  });\n  var onPress = function onPress(e) {\n    if ('onPress' in rest) {\n      rest.onPress == null ? void 0 : rest.onPress(e);\n    }\n    props.onPress(e);\n  };\n  var Element = asChild ? react_slot_1.Slot : react_native_1.Text;\n  return _reactJsxDevRuntime.jsxDEV(Element, _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    ref: ref\n  }, props), hrefAttrs), rest), {}, {\n    style: style\n  }, react_native_1.Platform.select({\n    web: {\n      onClick: onPress\n    },\n    default: {\n      onPress: onPress\n    }\n  })), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 13\n  }, this);\n}","map":{"version":3,"names":["react_slot_1","require","React","__importStar","react_native_1","href_1","useLinkToPathProps_1","__importDefault","hooks_1","useFocusEffect_1","Redirect","_ref","href","router","useRouter","useFocusEffect","replace","error","console","exports","Link","forwardRef","ExpoRouterLink","resolveHref","useInteropClassName","props","Platform","OS","style","useMemo","className","cssStyle","$$css","__routerLinkClassName","Array","isArray","concat","_toConsumableArray","useHrefAttrs","select","web","_ref2","asChild","rel","target","download","hrefAttrs","default","_ref3","ref","push","rest","_objectWithoutProperties","_excluded","resolvedHref","Error","event","onPress","e","Element","Slot","Text","_reactJsxDevRuntime","jsxDEV","_objectSpread","onClick","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/josh/src/ui/apps/demo/node_modules/expo-router/src/link/Link.tsx"],"sourcesContent":["// Fork of @react-navigation/native Link.tsx with `href` and `replace` support added and\n// `to` / `action` support removed.\nimport { Slot } from '@radix-ui/react-slot';\nimport * as React from 'react';\nimport { Text, TextProps, GestureResponderEvent, Platform } from 'react-native';\n\nimport { Href, resolveHref } from './href';\nimport useLinkToPathProps from './useLinkToPathProps';\nimport { useRouter } from '../hooks';\nimport { useFocusEffect } from '../useFocusEffect';\n\ninterface WebAnchorProps {\n  /**\n   * **Web only:** Specifies where to open the `href`.\n   *\n   * - **_self**: the current tab.\n   * - **_blank**: opens in a new tab or window.\n   * - **_parent**: opens in the parent browsing context. If no parent, defaults to **_self**.\n   * - **_top**: opens in the highest browsing context ancestor. If no ancestors, defaults to **_self**.\n   *\n   * This property is passed to the underlying anchor (`<a>`) tag.\n   *\n   * @default '_self'\n   *\n   * @example\n   * <Link href=\"https://expo.dev\" target=\"_blank\">Go to Expo in new tab</Link>\n   */\n  target?: '_self' | '_blank' | '_parent' | '_top' | (string & object);\n\n  /**\n   * **Web only:** Specifies the relationship between the `href` and the current route.\n   *\n   * Common values:\n   * - **nofollow**: Indicates to search engines that they should not follow the `href`. This is often used for user-generated content or links that should not influence search engine rankings.\n   * - **noopener**: Suggests that the `href` should not have access to the opening window's `window.opener` object, which is a security measure to prevent potentially harmful behavior in cases of links that open new tabs or windows.\n   * - **noreferrer**: Requests that the browser not send the `Referer` HTTP header when navigating to the `href`. This can enhance user privacy.\n   *\n   * The `rel` property is primarily used for informational and instructive purposes, helping browsers and web\n   * crawlers make better decisions about how to handle and interpret the links on a web page. It is important\n   * to use appropriate `rel` values to ensure that links behave as intended and adhere to best practices for web\n   * development and SEO (Search Engine Optimization).\n   *\n   * This property is passed to the underlying anchor (`<a>`) tag.\n   *\n   * @example\n   * <Link href=\"https://expo.dev\" rel=\"nofollow\">Go to Expo</Link>\n   */\n  rel?: string;\n\n  /**\n   * **Web only:** Specifies that the `href` should be downloaded when the user clicks on the link,\n   * instead of navigating to it. It is typically used for links that point to files that the user should download,\n   * such as PDFs, images, documents, etc.\n   *\n   * The value of the `download` property, which represents the filename for the downloaded file.\n   * This property is passed to the underlying anchor (`<a>`) tag.\n   *\n   * @example\n   * <Link href=\"/image.jpg\" download=\"my-image.jpg\">Download image</Link>\n   */\n  download?: string;\n}\n\nexport interface LinkProps extends Omit<TextProps, 'href'>, WebAnchorProps {\n  /** Path to route to. */\n  href: Href;\n\n  // TODO(EvanBacon): This may need to be extracted for React Native style support.\n  /** Forward props to child component. Useful for custom buttons. */\n  asChild?: boolean;\n\n  /** Should replace the current route without adding to the history. */\n  replace?: boolean;\n\n  /** Should push the current route, always adding to the history. */\n  push?: boolean;\n\n  /** On web, this sets the HTML `class` directly. On native, this can be used with CSS interop tools like Nativewind. */\n  className?: string;\n\n  onPress?: (e: React.MouseEvent<HTMLAnchorElement, MouseEvent> | GestureResponderEvent) => void;\n}\n\n/** Redirects to the href as soon as the component is mounted. */\nexport function Redirect({ href }: { href: Href }) {\n  const router = useRouter();\n  useFocusEffect(() => {\n    try {\n      router.replace(href);\n    } catch (error) {\n      console.error(error);\n    }\n  });\n  return null;\n}\n\nexport interface LinkComponent {\n  (props: React.PropsWithChildren<LinkProps>): JSX.Element;\n  /** Helper method to resolve an Href object into a string. */\n  resolveHref: typeof resolveHref;\n}\n\n/**\n * Component to render link to another route using a path.\n * Uses an anchor tag on the web.\n *\n * @param props.href Absolute path to route (e.g. `/feeds/hot`).\n * @param props.replace Should replace the current route without adding to the history.\n * @param props.push Should push the current route, always adding to the history.\n * @param props.asChild Forward props to child component. Useful for custom buttons.\n * @param props.children Child elements to render the content.\n * @param props.className On web, this sets the HTML `class` directly. On native, this can be used with CSS interop tools like Nativewind.\n */\nexport const Link = React.forwardRef(ExpoRouterLink) as unknown as LinkComponent;\n\nLink.resolveHref = resolveHref;\n\n// Mutate the style prop to add the className on web.\nfunction useInteropClassName(props: { style?: TextProps['style']; className?: string }) {\n  if (Platform.OS !== 'web') {\n    return props.style;\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return React.useMemo(() => {\n    if (props.className == null) {\n      return props.style;\n    }\n    const cssStyle = {\n      $$css: true,\n      __routerLinkClassName: props.className,\n    };\n\n    if (Array.isArray(props.style)) {\n      return [...props.style, cssStyle];\n    }\n    return [props.style, cssStyle];\n  }, [props.style, props.className]);\n}\n\nconst useHrefAttrs = Platform.select<\n  (props: Partial<LinkProps>) => { hrefAttrs?: any } & Partial<LinkProps>\n>({\n  web: function useHrefAttrs({ asChild, rel, target, download }: Partial<LinkProps>) {\n    return React.useMemo(() => {\n      const hrefAttrs = {\n        rel,\n        target,\n        download,\n      };\n      if (asChild) {\n        return hrefAttrs;\n      }\n      return {\n        hrefAttrs,\n      };\n    }, [asChild, rel, target, download]);\n  },\n  default: function useHrefAttrs() {\n    return {};\n  },\n});\n\nfunction ExpoRouterLink(\n  {\n    href,\n    replace,\n    push,\n    // TODO: This does not prevent default on the anchor tag.\n    asChild,\n    rel,\n    target,\n    download,\n    ...rest\n  }: LinkProps,\n  ref: React.ForwardedRef<Text>\n) {\n  // Mutate the style prop to add the className on web.\n  const style = useInteropClassName(rest);\n\n  // If not passing asChild, we need to forward the props to the anchor tag using React Native Web's `hrefAttrs`.\n  const hrefAttrs = useHrefAttrs({ asChild, rel, target, download });\n\n  const resolvedHref = React.useMemo(() => {\n    if (href == null) {\n      throw new Error('Link: href is required');\n    }\n    return resolveHref(href);\n  }, [href]);\n\n  let event;\n  if (push) event = 'PUSH';\n  if (replace) event = 'REPLACE';\n\n  const props = useLinkToPathProps({ href: resolvedHref, event });\n\n  const onPress = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent> | GestureResponderEvent) => {\n    if ('onPress' in rest) {\n      rest.onPress?.(e);\n    }\n    props.onPress(e);\n  };\n\n  const Element = asChild ? Slot : Text;\n\n  // Avoid using createElement directly, favoring JSX, to allow tools like Nativewind to perform custom JSX handling on native.\n  return (\n    <Element\n      ref={ref}\n      {...props}\n      {...hrefAttrs}\n      {...rest}\n      style={style}\n      {...Platform.select({\n        web: {\n          onClick: onPress,\n        } as any,\n        default: { onPress },\n      })}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}